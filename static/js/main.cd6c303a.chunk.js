(this["webpackJsonpredux-anecdotes"]=this["webpackJsonpredux-anecdotes"]||[]).push([[0],{13:function(t,e,n){t.exports=n(23)},22:function(t,e,n){},23:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),i=n(5),c=n.n(i),l=n(7),u=n(2),o=n(11),m=n(12),d=function(){var t=Object(u.c)((function(t){return t.notification}));return r.a.createElement("div",{style:{padding:10}},t)},s=function(t){return t.thumbnail?r.a.createElement(r.a.Fragment,null,r.a.createElement("th",null,r.a.createElement("img",{src:t.src,alt:"theImage",width:"200",height:"140"})),r.a.createElement("th",null," ",t.quantity," "),r.a.createElement("th",null," $",t.price," ")):r.a.createElement(r.a.Fragment,null,r.a.createElement("th",null,r.a.createElement("img",{src:t.src,alt:"theImage",width:"350",height:"200"})),r.a.createElement("th",null," ",t.quantity," "),r.a.createElement("th",null," $",t.price," "))},b=n(1),y=n(3),E={inventory:[{id:1,src:"https://github.com/miketran238/ImageRepository/blob/master/public/img/tunnel.jpg?raw=true",quantity:5,price:5.5},{id:2,src:"https://github.com/miketran238/ImageRepository/blob/master/public/img/park.jpg?raw=true",quantity:10,price:3.99},{id:3,src:"https://github.com/miketran238/ImageRepository/blob/master/public/img/bridge.jpg?raw=true",quantity:2,price:10},{id:4,src:"https://github.com/miketran238/ImageRepository/blob/master/public/img/coast.jpg?raw=true",quantity:5,price:6},{id:5,src:"https://github.com/miketran238/ImageRepository/blob/master/public/img/rails.jpg?raw=true",quantity:10,price:2.5},{id:6,src:"https://github.com/miketran238/ImageRepository/blob/master/public/img/sky.jpg?raw=true",quantity:20,price:4.99}],cart:[],credit:29.99,own:[{id:7,src:"https://github.com/miketran238/ImageRepository/blob/master/public/img/boston.jpeg?raw=true",quantity:3,price:8},{id:8,src:"https://github.com/miketran238/ImageRepository/blob/master/public/img/moon.jpeg?raw=true",quantity:1,price:12},{id:9,src:"https://github.com/miketran238/ImageRepository/blob/master/public/img/sunset.jpeg?raw=true",quantity:2,price:15}],total:0,discount:[5,10,15]},p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,e=arguments.length>1?arguments[1]:void 0;switch(console.log("state now: ",t),console.log("action",e),e.type){case"NEW":var n=[].concat(Object(y.a)(t.inventory),[e.data]),a=t;return a.inventory=n,a;case"BUY":var r=e.data.id,i=t.inventory.find((function(t){return t.id===r})),c=Object(b.a)(Object(b.a)({},i),{},{quantity:i.quantity-1});n=0===c.quantity?t.inventory.filter((function(t,e,n){return t.id!==r})):t.inventory.map((function(t){return t.id!==r?t:c}));var l=t.cart.find((function(t){return t.id===r})),u=void 0;if(i.quantity=1,void 0===l)u=[].concat(Object(y.a)(t.cart),[i]);else{var o=Object(b.a)(Object(b.a)({},l),{},{quantity:l.quantity+1});u=t.cart.map((function(t){return t.id!==r?t:o}))}var m=Object(b.a)(Object(b.a)({},t),{},{cart:u,inventory:n,total:t.total+i.price});return m;case"PURCHASE":if(e.price>t.credit)return window.alert("You do not have enough credit"),t;for(var d=Object(y.a)(t.own),s=function(){var e=t.cart[p];console.log(e.id);var n=d.find((function(t){return t.id===e.id}));if(void 0===n)d=[].concat(Object(y.a)(d),[e]);else{var a=Object(b.a)(Object(b.a)({},n),{},{quantity:n.quantity+e.quantity});d=d.map((function(t){return t.id!==e.id?t:a}))}},p=0;p<t.cart.length;p++)s();var f=t.credit-e.price,g=Object(b.a)(Object(b.a)({},t),{},{cart:[],credit:f,own:d,total:0});return window.alert("Purchase successfully"),g;case"QUANTITY_DOWN":var h=e.data.id,v=t.cart.find((function(t){return t.id===h})),O=Object(b.a)(Object(b.a)({},v),{},{quantity:v.quantity-1});u=0===O.quantity?t.cart.filter((function(t,e,n){return t.id!==h})):t.cart.map((function(t){return t.id!==h?t:O}));var j=t.inventory.find((function(t){return t.id===h}));if(n=t.inventory,void 0===j)v.quantity=1,n=[].concat(Object(y.a)(t.inventory),[v]);else{var q=Object(b.a)(Object(b.a)({},j),{},{quantity:j.quantity+1});n=t.inventory.map((function(t){return t.id!==h?t:q}))}var I=Object(b.a)(Object(b.a)({},t),{},{cart:u,inventory:n,total:t.total-v.price});return I;case"SELL":var w=e.data.id,k=t.own.find((function(t){return t.id===w})),T=Object(b.a)(Object(b.a)({},k),{},{quantity:k.quantity-1}),F=void 0;F=0===T.quantity?t.own.filter((function(t,e,n){return t.id!==w})):t.own.map((function(t){return t.id!==w?t:T}));var N=t.inventory.find((function(t){return t.id===w}));if(n=void 0,void 0===N)k.quantity=1,n=[].concat(Object(y.a)(t.inventory),[k]);else{var R=Object(b.a)(Object(b.a)({},N),{},{quantity:N.quantity+1});n=t.inventory.map((function(t){return t.id!==w?t:R}))}var C=t.credit+k.price,S=Object(b.a)(Object(b.a)({},t),{},{own:F,inventory:n,credit:C});return S;case"DISCOUNT":var Y,A=e.data.id;Y=-1!==t.discount[A]?t.total*(100-t.discount[A])/100:t.total;var P=Object(y.a)(t.discount);return P[A]=-1,Object(b.a)(Object(b.a)({},t),{},{discount:P,total:Y});default:return t}},f=function(){var t=Object(u.b)(),e=Object(u.c)((function(t){return t.images.inventory}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null," Image "),r.a.createElement("th",null," Quanity "),r.a.createElement("th",null," Price "),r.a.createElement("th",null))),r.a.createElement("tbody",null,e.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement(s,{src:e.src,quantity:e.quantity,price:e.price,thumbnail:!1}),r.a.createElement("th",null," ",r.a.createElement("button",{onClick:function(){return n=e.id,void t(function(t){return{type:"BUY",data:{id:t}}}(n));var n}}," Buy ")," "))})))))},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_NOTIFICATION":return e.notification;case"REMOVE_NOTIFICATION":return"";default:return t}},h=function(){var t=Object(u.b)(),e=Object(u.c)((function(t){return t.images.own}));return 0===e.length?r.a.createElement(r.a.Fragment,null,"You don't have any images"):r.a.createElement(r.a.Fragment,null,r.a.createElement(d,null),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null," Image "),r.a.createElement("th",null," Quanity "),r.a.createElement("th",null," Price "),r.a.createElement("th",null))),r.a.createElement("tbody",null,e.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement(s,{src:e.src,quantity:e.quantity,price:e.price,thumbnail:!1}),r.a.createElement("th",null," ",r.a.createElement("button",{onClick:function(){return n=e.id,a=e.price,t(function(t){return{type:"SELL",data:{id:t}}}(n)),t({type:"SET_NOTIFICATION",notification:"You have just sold your image for $".concat(a)}),void setTimeout((function(){t({type:"REMOVE_NOTIFICATION"})}),1e3);var n,a}}," Sell ")," "))})))))},v=function(){var t=Object(u.b)(),e=Object(u.c)((function(t){return t.images.cart})),n=Object(u.c)((function(t){return t.images.total}));return 0===e.length?r.a.createElement(r.a.Fragment,null,"Empty"):r.a.createElement(r.a.Fragment,null,r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null," Image "),r.a.createElement("th",null," Quanity "),r.a.createElement("th",null," Price "),r.a.createElement("th",null))),r.a.createElement("tbody",null,e.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement(s,{src:e.src,quantity:e.quantity,price:e.price,thumbnail:!0}),r.a.createElement("th",null," ",r.a.createElement("button",{onClick:function(){return n=e.id,void t(function(t){return{type:"QUANTITY_DOWN",data:{id:t}}}(n));var n}}," - ")," "))})))),"Total : $",n.toFixed(2)," ",r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return function(e){t({type:"PURCHASE",price:e})}(n)}}," ",r.a.createElement("b",null," Purchase ")," "))},O=function(){var t=Object(u.c)((function(t){return t.images.credit}));return r.a.createElement(r.a.Fragment,null,"Your Credit: $",t.toFixed(2))},j=(n(22),function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(d,null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"columnLeft"},r.a.createElement("h2",null," Store "),r.a.createElement(f,null)),r.a.createElement("div",{className:"columnRight"},r.a.createElement("h2",null,"Your Cart"),r.a.createElement(v,null))))}),q=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null," Sell your own images "),r.a.createElement(h,null))},I=function(){var t=Object(a.useState)("buy"),e=Object(m.a)(t,2),n=e[0],i=e[1],c=function(t){return function(e){e.preventDefault(),i(t)}},l={padding:5};return r.a.createElement("div",null,r.a.createElement("h1",null,"Welcome to Mike's Image Repository"),r.a.createElement(O,null),r.a.createElement("div",null,r.a.createElement("a",{href:"",onClick:c("buy"),style:l},r.a.createElement("b",null," Buy ")),r.a.createElement("a",{href:"",onClick:c("sell"),style:l},r.a.createElement("b",null,"Sell "))),"buy"===n?r.a.createElement(j,null):"sell"===n?r.a.createElement(q,null):void 0)},w=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_FILTER":return e.filter;default:return t}},k=Object(l.combineReducers)({images:p,filter:w,notification:g}),T=Object(l.createStore)(k,Object(o.composeWithDevTools)());c.a.render(r.a.createElement(u.a,{store:T},r.a.createElement(I,null)),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.cd6c303a.chunk.js.map