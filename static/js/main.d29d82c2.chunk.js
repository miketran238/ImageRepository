(this["webpackJsonpredux-anecdotes"]=this["webpackJsonpredux-anecdotes"]||[]).push([[0],{13:function(e,t,n){e.exports=n(23)},22:function(e,t,n){},23:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(5),i=n.n(c),l=n(7),u=n(2),o=n(11),m=n(12),d=function(){var e=Object(u.c)((function(e){return e.notification}));return r.a.createElement("div",{style:{padding:10}},e)},s=function(e){return e.thumbnail?r.a.createElement(r.a.Fragment,null,r.a.createElement("th",null,r.a.createElement("img",{src:e.src,alt:"theImage",width:"100",height:"60"})),r.a.createElement("th",null," ",e.quantity," "),r.a.createElement("th",null," $",e.price," ")):r.a.createElement(r.a.Fragment,null,r.a.createElement("th",null,r.a.createElement("img",{src:e.src,alt:"theImage",width:"250",height:"150"})),r.a.createElement("th",null," ",e.quantity," "),r.a.createElement("th",null," $",e.price," "))},f=n(1),E=n(3),y={inventory:[{id:1,src:"/img/tunnel.jpg",quantity:5,price:5.5},{id:2,src:"/img/park.jpg",quantity:10,price:3.99},{id:3,src:"/img/bridge.jpg",quantity:2,price:10},{id:4,src:"/img/coast.jpg",quantity:5,price:6},{id:5,src:"/img/rails.jpg",quantity:10,price:2.5},{id:6,src:"/img/sky.jpg",quantity:20,price:4.99}],cart:[],credit:29.99,own:[{id:7,src:"/img/boston.jpeg",quantity:3,price:8},{id:8,src:"/img/moon.jpeg",quantity:1,price:12},{id:9,src:"/img/sunset.jpeg",quantity:2,price:15}],total:0,discount:[5,10,15]},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(console.log("state now: ",e),console.log("action",t),t.type){case"NEW":var n=[].concat(Object(E.a)(e.inventory),[t.data]),a=e;return a.inventory=n,a;case"BUY":var r=t.data.id,c=e.inventory.find((function(e){return e.id===r})),i=Object(f.a)(Object(f.a)({},c),{},{quantity:c.quantity-1});n=0===i.quantity?e.inventory.filter((function(e,t,n){return e.id!==r})):e.inventory.map((function(e){return e.id!==r?e:i}));var l=e.cart.find((function(e){return e.id===r})),u=void 0;if(c.quantity=1,void 0===l)u=[].concat(Object(E.a)(e.cart),[c]);else{var o=Object(f.a)(Object(f.a)({},l),{},{quantity:l.quantity+1});u=e.cart.map((function(e){return e.id!==r?e:o}))}var m=Object(f.a)(Object(f.a)({},e),{},{cart:u,inventory:n,total:e.total+c.price});return m;case"PURCHASE":if(t.price>e.credit)return window.alert("You do not have enough credit"),e;for(var d=Object(E.a)(e.own),s=function(){var t=e.cart[v];console.log(t.id);var n=d.find((function(e){return e.id===t.id}));if(void 0===n)d=[].concat(Object(E.a)(d),[t]);else{var a=Object(f.a)(Object(f.a)({},n),{},{quantity:n.quantity+t.quantity});d=d.map((function(e){return e.id!==t.id?e:a}))}},v=0;v<e.cart.length;v++)s();var h=e.credit-t.price,b=Object(f.a)(Object(f.a)({},e),{},{cart:[],credit:h,own:d,total:0});return window.alert("Purchase successfully"),b;case"QUANTITY_DOWN":var p=t.data.id,g=e.cart.find((function(e){return e.id===p})),O=Object(f.a)(Object(f.a)({},g),{},{quantity:g.quantity-1});u=0===O.quantity?e.cart.filter((function(e,t,n){return e.id!==p})):e.cart.map((function(e){return e.id!==p?e:O}));var j=e.inventory.find((function(e){return e.id===p}));if(n=e.inventory,void 0===j)g.quantity=1,n=[].concat(Object(E.a)(e.inventory),[g]);else{var q=Object(f.a)(Object(f.a)({},j),{},{quantity:j.quantity+1});n=e.inventory.map((function(e){return e.id!==p?e:q}))}var w=Object(f.a)(Object(f.a)({},e),{},{cart:u,inventory:n,total:e.total-g.price});return w;case"SELL":var I=t.data.id,T=e.own.find((function(e){return e.id===I})),F=Object(f.a)(Object(f.a)({},T),{},{quantity:T.quantity-1}),N=void 0;N=0===F.quantity?e.own.filter((function(e,t,n){return e.id!==I})):e.own.map((function(e){return e.id!==I?e:F}));var k=e.inventory.find((function(e){return e.id===I}));if(n=void 0,void 0===k)T.quantity=1,n=[].concat(Object(E.a)(e.inventory),[T]);else{var C=Object(f.a)(Object(f.a)({},k),{},{quantity:k.quantity+1});n=e.inventory.map((function(e){return e.id!==I?e:C}))}var S=e.credit+T.price,A=Object(f.a)(Object(f.a)({},e),{},{own:N,inventory:n,credit:S});return A;case"DISCOUNT":var Y,P=t.data.id;Y=-1!==e.discount[P]?e.total*(100-e.discount[P])/100:e.total;var R=Object(E.a)(e.discount);return R[P]=-1,Object(f.a)(Object(f.a)({},e),{},{discount:R,total:Y});default:return e}},h=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.images.inventory}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null," Image "),r.a.createElement("th",null," Quanity "),r.a.createElement("th",null," Price "),r.a.createElement("th",null))),r.a.createElement("tbody",null,t.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement(s,{src:t.src,quantity:t.quantity,price:t.price,thumbnail:!1}),r.a.createElement("th",null," ",r.a.createElement("button",{onClick:function(){return n=t.id,void e(function(e){return{type:"BUY",data:{id:e}}}(n));var n}}," Buy ")," "))})))))},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NOTIFICATION":return t.notification;case"REMOVE_NOTIFICATION":return"";default:return e}},p=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.images.own}));return 0===t.length?r.a.createElement(r.a.Fragment,null,"You don't have any images"):r.a.createElement(r.a.Fragment,null,r.a.createElement(d,null),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null," Image "),r.a.createElement("th",null," Quanity "),r.a.createElement("th",null," Price "),r.a.createElement("th",null))),r.a.createElement("tbody",null,t.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement(s,{src:t.src,quantity:t.quantity,price:t.price,thumbnail:!1}),r.a.createElement("th",null," ",r.a.createElement("button",{onClick:function(){return n=t.id,a=t.price,e(function(e){return{type:"SELL",data:{id:e}}}(n)),e({type:"SET_NOTIFICATION",notification:"You have just sold your image for $".concat(a)}),void setTimeout((function(){e({type:"REMOVE_NOTIFICATION"})}),1e3);var n,a}}," Sell ")," "))})))))},g=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.images.cart})),n=Object(u.c)((function(e){return e.images.total}));return 0===t.length?r.a.createElement(r.a.Fragment,null,"Empty"):r.a.createElement(r.a.Fragment,null,r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null," Image "),r.a.createElement("th",null," Quanity "),r.a.createElement("th",null," Price "),r.a.createElement("th",null))),r.a.createElement("tbody",null,t.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement(s,{src:t.src,quantity:t.quantity,price:t.price,thumbnail:!0}),r.a.createElement("th",null," ",r.a.createElement("button",{onClick:function(){return n=t.id,void e(function(e){return{type:"QUANTITY_DOWN",data:{id:e}}}(n));var n}}," - ")," "))})))),"Total : $",n.toFixed(2)," ",r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return function(t){e({type:"PURCHASE",price:t})}(n)}}," ",r.a.createElement("b",null," Purchase ")," "))},O=function(){var e=Object(u.c)((function(e){return e.images.credit}));return r.a.createElement(r.a.Fragment,null,"Your Credit: $",e.toFixed(2))},j=(n(22),function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(d,null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"columnLeft"},r.a.createElement("h2",null," Store "),r.a.createElement(h,null)),r.a.createElement("div",{className:"columnRight"},r.a.createElement("h2",null,"Your Cart"),r.a.createElement(g,null))))}),q=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null," Sell your own images "),r.a.createElement(p,null))},w=function(){var e=Object(a.useState)("buy"),t=Object(m.a)(e,2),n=t[0],c=t[1],i=function(e){return function(t){t.preventDefault(),c(e)}},l={padding:5};return r.a.createElement("div",null,r.a.createElement("h1",null,"Welcome to Mike's Image Repository"),r.a.createElement(O,null),r.a.createElement("div",null,r.a.createElement("a",{href:"",onClick:i("buy"),style:l},r.a.createElement("b",null," Buy ")),r.a.createElement("a",{href:"",onClick:i("sell"),style:l},r.a.createElement("b",null,"Sell "))),"buy"===n?r.a.createElement(j,null):"sell"===n?r.a.createElement(q,null):void 0)},I=function(){return(1e5*Math.random()).toFixed(0)},T=["If it hurts, do it more often","Adding manpower to a late software project makes it later!","The first 90 percent of the code accounts for the first 90 percent of the development time...The remaining 10 percent of the code accounts for the other 90 percent of the development time.","Any fool can write code that a computer can understand. Good programmers write code that humans can understand.","Premature optimization is the root of all evil.","Debugging is twice as hard as writing the code in the first place. Therefore, if you write the code as cleverly as possible, you are, by definition, not smart enough to debug it."].map((function(e){return{content:e,id:I(),votes:0}})),F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(console.log("state now: ",e),console.log("action",t),t.type){case"NEW":return[].concat(Object(E.a)(e),[t.data]);case"VOTE":var n=t.data.id,a=e.find((function(e){return e.id===n})),r=Object(f.a)(Object(f.a)({},a),{},{votes:a.votes+1}),c=e.map((function(e){return e.id!==n?e:r}));return c.sort((function(e,t){return t.votes-e.votes})),c;default:return e}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FILTER":return t.filter;default:return e}},k=Object(l.combineReducers)({images:v,anecdotes:F,filter:N,notification:b}),C=Object(l.createStore)(k,Object(o.composeWithDevTools)());i.a.render(r.a.createElement(u.a,{store:C},r.a.createElement(w,null)),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.d29d82c2.chunk.js.map