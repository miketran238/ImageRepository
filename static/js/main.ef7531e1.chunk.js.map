{"version":3,"sources":["components/Notification.js","components/Image.js","reducers/galleryReducer.js","components/Gallery.js","reducers/notificationReducer.js","components/Own.js","components/Cart.js","components/Credit.js","App.js","reducers/anecdoteReducer.js","reducers/filterReducer.js","index.js"],"names":["Notification","notification","useSelector","state","style","padding","Image","props","thumbnail","src","alt","width","height","quantity","price","galleryAtStart","inventory","id","cart","credit","own","total","discount","galleryReducer","action","console","log","type","newInventory","data","newState","imageToChange","find","n","changedImage","filter","value","index","arr","map","image","imageInCart","newCart","undefined","changedImageCart","window","alert","newOwnPur","theImage","i","imageInOwn","changedImageOwn","length","newCredit","newStatePur","imageInventory","changedImageInventory","newStateQuant","sellId","imageToSell","changedImageSell","newOwn","imageInInventory","changedImageInv","newCreditSell","newStateSell","newTotal","discountId","newDiscount","Gallery","dispatch","useDispatch","images","key","onClick","buy","notificationReducer","Own","sell","setTimeout","Cart","quant_down","toFixed","purchaseClick","Credit","Buy","className","Sell","App","useState","page","setPage","toPage","event","preventDefault","href","getId","Math","random","initialState","anecdote","content","votes","anecdoteReducer","anecdoteToChange","changedAnecdote","sort","a","b","filterReducer","reducer","combineReducers","anecdotes","store","createStore","composeWithDevTools","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ef7531e1.chunk.js","sourcesContent":["import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst Notification = () => {\r\n  const notification = useSelector(state => state.notification)\r\n  \r\n  const style = {\r\n    padding: 10,\r\n  }\r\n\r\n  return (\r\n    <div style={style}>\r\n      {notification}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification","import React from 'react'\n\nconst Image = (props) => {\n    if (props.thumbnail) {\n        return (\n            <>\n                <th><img src={props.src} alt=\"theImage\" width=\"200\" height =\"140\"></img></th>\n                <th> {props.quantity} </th>\n                <th> ${props.price} </th>\n            </>\n        )\n    }\n    else {\n        return (\n            <>\n                <th><img src={props.src} alt=\"theImage\" width=\"350\" height =\"200\"></img></th>\n                <th> {props.quantity} </th>\n                <th> ${props.price} </th>\n            </>\n        )\n    }\n\n}\n\nexport default Image","export const galleryAtStart = {\n  inventory: [\n    { id: 1, src: 'https://github.com/miketran238/ImageRepository/blob/master/public/img/tunnel.jpg?raw=true', quantity: 5, price: 5.5 },\n    { id: 2, src: 'https://github.com/miketran238/ImageRepository/blob/master/public/img/park.jpg?raw=true', quantity: 10, price: 3.99 },\n    { id: 3, src: 'https://github.com/miketran238/ImageRepository/blob/master/public/img/bridge.jpg?raw=true', quantity: 2, price: 10 },\n    { id: 4, src: 'https://github.com/miketran238/ImageRepository/blob/master/public/img/coast.jpg?raw=true', quantity: 5, price: 6 },\n    { id: 5, src: 'https://github.com/miketran238/ImageRepository/blob/master/public/img/rails.jpg?raw=true', quantity: 10, price: 2.5 },\n    { id: 6, src: 'https://github.com/miketran238/ImageRepository/blob/master/public/img/sky.jpg?raw=true', quantity: 20, price: 4.99 }\n  ],\n  cart: [],\n  credit: 29.99,\n  own: [\n    { id: 7, src: 'https://github.com/miketran238/ImageRepository/blob/master/public/img/boston.jpeg?raw=true', quantity: 3, price: 8 },\n    { id: 8, src: 'https://github.com/miketran238/ImageRepository/blob/master/public/img/moon.jpeg?raw=true', quantity: 1, price: 12 },\n    { id: 9, src: 'https://github.com/miketran238/ImageRepository/blob/master/public/img/sunset.jpeg?raw=true', quantity: 2, price: 15 },\n  ],\n  total: 0,\n  discount: [5,10,15]\n}\n\nconst galleryReducer = (state = galleryAtStart, action) => {\n  console.log('state now: ', state)\n  console.log('action', action)\n  switch (action.type) {\n    case 'NEW':\n      var newInventory = [...state.inventory, action.data]\n      const newState = state\n      newState.inventory = newInventory\n      return newState\n\n    case 'BUY': {\n      const id = action.data.id\n      //Update the inventory\n      const imageToChange = state.inventory.find(n => n.id === id)\n      const changedImage = {\n        ...imageToChange,\n        quantity: imageToChange.quantity - 1\n      }\n      if (changedImage.quantity === 0) {\n        newInventory = state.inventory.filter(function (value, index, arr) {\n          return value.id !== id\n        });\n      }\n      else {\n        newInventory = state.inventory.map(image =>\n          image.id !== id ? image : changedImage\n        )\n      }\n      //Add the image to the cart\n      const imageInCart = state.cart.find(n => n.id === id)\n      var newCart = undefined\n      imageToChange.quantity = 1\n      if (imageInCart === undefined) {\n        newCart = [...state.cart, imageToChange]\n      } else {\n        const changedImageCart = {\n          ...imageInCart,\n          quantity: imageInCart.quantity + 1\n        }\n        newCart = state.cart.map(image =>\n          image.id !== id ? image : changedImageCart\n        )\n      }\n      //Update the state\n      const newState = {\n        ...state,\n        cart: newCart,\n        inventory: newInventory,\n        total: state.total + imageToChange.price\n      }\n      return newState\n    }\n\n    case 'PURCHASE':\n        if (action.price > state.credit) {\n            window.alert('You do not have enough credit')\n            return state\n        }\n        //Update own images with the image from cart\n        var newOwnPur = [...state.own]\n        for (var i = 0; i < state.cart.length; i++) {\n          const theImage = state.cart[i]\n          console.log(theImage.id)\n          const imageInOwn = newOwnPur.find(n => n.id === theImage.id)\n          if ( imageInOwn === undefined ) {\n            newOwnPur = [...newOwnPur, theImage]\n          } else {\n            const changedImageOwn = {\n              ...imageInOwn,\n              quantity: imageInOwn.quantity + theImage.quantity\n            }\n            newOwnPur = newOwnPur.map(image =>\n              image.id !== theImage.id ? image : changedImageOwn\n            )\n          }\n        }\n\n        //Clear the cart, update credit and new state\n        const newCredit = state.credit - action.price\n        const newStatePur = {\n          ...state,\n          cart: [],\n          credit: newCredit,\n          own: newOwnPur,\n          total: 0\n        }\n\n        window.alert('Purchase successfully')\n        return newStatePur\n    \n    case 'QUANTITY_DOWN':\n      const id = action.data.id\n      //Update the cart\n      const imageToChange = state.cart.find(n => n.id === id)\n      const changedImage = {\n        ...imageToChange,\n        quantity: imageToChange.quantity - 1\n      }\n\n      if (changedImage.quantity === 0) {\n        newCart = state.cart.filter(function (value, index, arr) {\n          return value.id !== id\n        });\n      }\n      else {\n        newCart = state.cart.map(image =>\n          image.id !== id ? image : changedImage\n        )\n      }\n      //Put the image back to the inventory\n      const imageInventory = state.inventory.find(n => n.id === id)\n      newInventory = state.inventory\n      if (imageInventory === undefined ) {\n        imageToChange.quantity = 1\n        newInventory = [...state.inventory, imageToChange]\n      }\n      else {\n        const changedImageInventory = {\n          ...imageInventory,\n          quantity: imageInventory.quantity + 1\n        }\n        newInventory = state.inventory.map(image =>\n          image.id !== id ? image : changedImageInventory\n        )\n      }\n      //Update the state\n      const newStateQuant = {\n        ...state,\n        cart: newCart,\n        inventory: newInventory,\n        total: state.total - imageToChange.price\n      }\n      return newStateQuant\n    \n    case 'SELL':\n      const sellId = action.data.id\n      //Update the inventory\n      const imageToSell = state.own.find(n => n.id === sellId)\n      const changedImageSell = {\n        ...imageToSell,\n        quantity: imageToSell.quantity - 1\n      }\n      var newOwn = undefined\n      //Delete the image if the quantity reaches 0\n      if (changedImageSell.quantity === 0) {\n        newOwn = state.own.filter(function (value, index, arr) {\n          return value.id !== sellId\n        });\n      }\n      else {\n        newOwn = state.own.map(image =>\n          image.id !== sellId ? image : changedImageSell\n        )\n      }\n\n      //Add the image back to the inventory\n      const imageInInventory = state.inventory.find(n => n.id === sellId)\n      newInventory = undefined\n\n      //Cannot find the sold image, create a new one in the inventory\n      if (imageInInventory === undefined) { \n        imageToSell.quantity = 1\n        newInventory = [...state.inventory, imageToSell]\n      } \n      else {\n        const changedImageInv = {\n          ...imageInInventory,\n          quantity: imageInInventory.quantity + 1\n        }\n\n        newInventory = state.inventory.map(image =>\n          image.id !== sellId ? image : changedImageInv\n        )\n      }\n      //Update credit\n      const newCreditSell = state.credit + imageToSell.price\n\n      //Update the state\n      const newStateSell = {\n        ...state,\n        own: newOwn,\n        inventory: newInventory,\n        credit: newCreditSell\n      }\n      return newStateSell\n    \n    case 'DISCOUNT':\n      const discountId = action.data.id\n      var newTotal\n      if ( state.discount[discountId] !== -1 ) {\n        newTotal = state.total * (100 - state.discount[discountId]) / 100\n      }\n      else {\n        newTotal = state.total\n      }\n      const newDiscount = [...state.discount]\n      newDiscount[discountId] = -1\n      return {\n        ...state,\n        discount: newDiscount,\n        total: newTotal\n      }\n      \n    default:\n      return state\n  }\n}\nexport const discount = (id) => {\n  return {\n    type: 'DISCOUNT',\n    data: {id}\n  }\n}\n\nexport const buy = (id) => {\n  return {\n    type: 'BUY',\n    data: { id }\n  }\n}\n\nexport const sell = (id) => {\n  return {\n    type: 'SELL',\n    data: { id }\n  }\n}\nexport const purchase = (price) => {\n  return {\n    type: 'PURCHASE',\n    price,\n  }\n}\nexport const quant_down = (id) => {\n  return {\n    type: 'QUANTITY_DOWN',\n    data: {id}\n  }\n}\n\nexport default galleryReducer","import Image from './Image'\nimport React from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { buy } from '../reducers/galleryReducer'\n// import { setNotification } from '../reducers/notificationReducer'\n// import { removeNotification } from '../reducers/notificationReducer'\n\nconst Gallery = () => {\n  const dispatch = useDispatch()\n  const images = useSelector(state => {\n    return state.images.inventory\n  })\n\n  const buyClick = (id) => {\n    dispatch(buy(id))\n    // dispatch(setNotification(`You have just voted for '${content}'`))\n    // setTimeout(() => {\n    //   dispatch(removeNotification())\n    // }, 2000)\n  }\n\n  return (\n    <>\n    <table>\n        <thead>\n         <tr>\n            <th> Image </th>\n            <th> Quanity </th>\n            <th> Price </th>\n            <th></th>\n        </tr>\n        </thead>\n        <tbody>\n     {images.map(image =>\n        <tr key={image.id}>\n            <Image src= {image.src} quantity = {image.quantity} price = {image.price} thumbnail = {false}/>\n            <th> <button onClick={() => buyClick(image.id)}> Buy </button> </th>\n        </tr>\n      )}\n      </tbody>\n    </table>\n    </>\n  )\n}\nexport default Gallery","const notificationReducer = (state = '', action) => {\r\n    switch (action.type) {\r\n      case 'SET_NOTIFICATION':\r\n        return action.notification\r\n      case 'REMOVE_NOTIFICATION':\r\n        return ''\r\n      default:\r\n        return state\r\n    }\r\n  }\r\n  \r\n  export const setNotification = (notification) => {\r\n    return {\r\n      type: 'SET_NOTIFICATION',\r\n      notification,\r\n    }\r\n  }\r\n\r\n  export const removeNotification = () => {\r\n      return {\r\n          type: 'REMOVE_NOTIFICATION'\r\n      }\r\n  }\r\n  \r\n  export default notificationReducer","import Image from './Image'\nimport React from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { sell } from '../reducers/galleryReducer'\nimport { setNotification } from '../reducers/notificationReducer'\nimport { removeNotification } from '../reducers/notificationReducer'\nimport Notification from '../components/Notification'\n\nconst Own = () => {\n    const dispatch = useDispatch()\n    const images = useSelector(state => {\n    return state.images.own\n    })\n\n    const sellClick = (id, price) => {\n    dispatch(sell(id))\n    dispatch(setNotification(`You have just sold your image for $${price}`))\n    setTimeout(() => {\n      dispatch(removeNotification())\n    }, 1000)\n    }\n\n    if ( images.length === 0 ) {\n        return (\n            <>\n            You don't have any images\n            </>\n        )\n    }\n    else {\n        return (\n            <>\n            <Notification />\n            <table>\n                <thead>\n                <tr>\n                    <th> Image </th>\n                    <th> Quanity </th>\n                    <th> Price </th>\n                    <th></th>\n                </tr>\n                </thead>\n                <tbody>\n            {images.map(image =>\n                <tr key={image.id}>\n                    <Image src= {image.src} quantity = {image.quantity} price = {image.price} thumbnail = {false}/>\n                    <th> <button onClick={() => sellClick(image.id, image.price)}> Sell </button> </th>\n                </tr>\n            )}\n            </tbody>\n            </table>\n            </>\n        )\n    }\n}\nexport default Own","import Image from './Image'\nimport React from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { quant_down, purchase } from '../reducers/galleryReducer'\nimport Discount from './Discount'\n\nconst Cart = () => {\n  const dispatch = useDispatch()\n  const cart = useSelector(state => {\n    return state.images.cart\n  })\n  const total = useSelector(state => {\n    return state.images.total\n  })\n  const purchaseClick = (total) => {\n      dispatch(purchase(total))\n  }\n  const quantDownClick = (id) => {\n      dispatch(quant_down(id))\n  }\n\n  if ( cart.length === 0 ) {\n      return (\n          <>\n          Empty\n          </>\n      )\n  }\n  else {\n    // var subTotal = 0\n    // cart.forEach(element => subTotal += element.price * element.quantity)\n    return (\n        <>\n        <table>\n            <thead>\n             <tr>\n                <th> Image </th>\n                <th> Quanity </th>\n                <th> Price </th>\n                <th></th>\n            </tr>\n            </thead>\n            <tbody>\n         {cart.map(image =>\n            <tr key={image.id}>\n                <Image src= {image.src} quantity = {image.quantity} price = {image.price} thumbnail = {true} />\n                <th> <button onClick={() => quantDownClick(image.id)}> - </button> </th>\n            </tr>\n          )}\n          </tbody>\n        </table>\n        {/* SubTotal : ${subTotal.toFixed(2)}\n        <br />\n        <Discount />\n        <br /> */}\n        Total : ${total.toFixed(2)} <br />\n        <button onClick={() => purchaseClick(total)}> <b> Purchase </b> </button>\n        </>\n      )\n  }\n\n}\nexport default Cart","import React from 'react'\nimport { useSelector } from 'react-redux'\n\nconst Credit = () => {\n  const credit = useSelector(state => state.images.credit)\n\n  return (\n      <>\n        Your Credit: ${credit.toFixed(2)}\n    </>\n  )\n}\n\nexport default Credit","/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport React, {useState} from 'react'\r\n// import AnecdoteForm from './components/AnecdoteForm'\r\n// import AnecdoteList from './components/AnecdoteList.js'\r\n// import Filter from './components/Filter'\r\nimport Notification from './components/Notification'\r\nimport Gallery from './components/Gallery'\r\nimport Own from './components/Own'\r\nimport Cart from './components/Cart'\r\nimport Credit from './components/Credit'\r\nimport './App.css'\r\n\r\n/* <Notification />\r\n<AnecdoteForm /> <br></br>\r\n<Filter />\r\n<AnecdoteList  /> */\r\nconst Buy = () => {\r\n  return (\r\n    <>\r\n      <Notification />\r\n      <div className=\"row\">\r\n        <div className=\"columnLeft\">\r\n          <h2> Store </h2>\r\n          <Gallery />\r\n        </div>\r\n        <div className=\"columnRight\">\r\n          <h2>Your Cart</h2>\r\n          <Cart />\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\nconst Sell = () => {\r\n  return (\r\n    <>\r\n      <h2> Sell your own images </h2>\r\n      <Own />\r\n    </>\r\n  )\r\n}\r\nconst App = () => {\r\n  const [page, setPage] = useState('buy')\r\n  const toPage = (page) => (event) => {\r\n    event.preventDefault()\r\n    setPage(page)\r\n  }\r\n  const content = () => {\r\n    if (page === 'buy') {\r\n      return <Buy />\r\n    } else if (page === 'sell') {\r\n      return <Sell />\r\n    }\r\n  }\r\n\r\n  const padding = {\r\n    padding: 5\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>Welcome to Mike's Image Repository</h1>\r\n      <Credit />\r\n      <div>\r\n        <a href=\"\" onClick={toPage('buy')} style={padding}>\r\n          <b> Buy </b> \r\n        </a>\r\n        <a href=\"\" onClick={toPage('sell')} style={padding}>\r\n          <b>Sell </b>\r\n        </a>\r\n      </div>\r\n\r\n      {content()}\r\n      \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","const anecdotesAtStart = [\r\n  'If it hurts, do it more often',\r\n  'Adding manpower to a late software project makes it later!',\r\n  'The first 90 percent of the code accounts for the first 90 percent of the development time...The remaining 10 percent of the code accounts for the other 90 percent of the development time.',\r\n  'Any fool can write code that a computer can understand. Good programmers write code that humans can understand.',\r\n  'Premature optimization is the root of all evil.',\r\n  'Debugging is twice as hard as writing the code in the first place. Therefore, if you write the code as cleverly as possible, you are, by definition, not smart enough to debug it.'\r\n]\r\n\r\nconst getId = () => (100000 * Math.random()).toFixed(0)\r\n\r\nconst asObject = (anecdote) => {\r\n  return {\r\n    content: anecdote,\r\n    id: getId(),\r\n    votes: 0\r\n  }\r\n}\r\n\r\nconst initialState = anecdotesAtStart.map(asObject)\r\n\r\nconst anecdoteReducer = (state = initialState, action) => {\r\n  console.log('state now: ', state)\r\n  console.log('action', action)\r\n  switch(action.type) {\r\n    case 'NEW':\r\n      return [...state, action.data]\r\n    case 'VOTE': {\r\n      const id = action.data.id\r\n      const anecdoteToChange = state.find( n => n.id === id ) \r\n      const changedAnecdote = {\r\n        ...anecdoteToChange,\r\n        votes: anecdoteToChange.votes + 1\r\n      }\r\n      \r\n      const newState = state.map(anecdote => \r\n        anecdote.id !== id ? anecdote : changedAnecdote\r\n      )\r\n      newState.sort((a,b) => b.votes - a.votes)\r\n      return newState\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const createAnecdote = (content) => {\r\n  return {\r\n    type: 'NEW',\r\n    data: {\r\n      content,\r\n      votes: 0,\r\n      id: getId()\r\n    }\r\n  }\r\n}\r\n\r\nexport const vote = (id) => {\r\n  return {\r\n    type: 'VOTE',\r\n    data: { id }\r\n  }\r\n}\r\n\r\nexport default anecdoteReducer","const filterReducer = (state = '', action) => {\r\n    switch (action.type) {\r\n      case 'SET_FILTER':\r\n        return action.filter\r\n      default:\r\n        return state\r\n    }\r\n  }\r\n  \r\n  export const filterChange = (filter) => {\r\n    return {\r\n      type: 'SET_FILTER',\r\n      filter,\r\n    }\r\n  }\r\n  \r\n  export default filterReducer","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { createStore, combineReducers } from 'redux'\r\nimport { Provider } from 'react-redux'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport App from './App'\r\nimport anecdoteReducer from './reducers/anecdoteReducer'\r\nimport filterReducer from './reducers/filterReducer'\r\nimport galleryReducer from './reducers/galleryReducer'\r\nimport notificationReducer from './reducers/notificationReducer'\r\n\r\n// const store = createStore(anecdoteReducer)\r\n\r\n// ReactDOM.render(\r\n//   <Provider store={store}>\r\n//     <App />\r\n//   </Provider>,\r\n//   document.getElementById('root')\r\n// )\r\n\r\nconst reducer = combineReducers({\r\n  images: galleryReducer,\r\n  anecdotes: anecdoteReducer,\r\n  filter: filterReducer,\r\n  notification: notificationReducer\r\n})\r\n\r\nconst store = createStore(reducer, composeWithDevTools())\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n)"],"sourceRoot":""}